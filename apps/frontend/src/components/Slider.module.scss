$height: .7em;

.container {
	padding: calc(var(--spacing) / 2);
	width: 100%;
	height: fit-content;
	position: relative;

	.bar {
		width: 100%;
		height: $height;
		border-radius: $height;
		background-color: var(--color-background-secondary);
		overflow: hidden;
		
		.fill {
			height: 100%;
			width: calc(var(--fill) * (100% - $height) + $height / 2);
			position: relative;
			top: 0;
			left: 0;
			background-color: var(--color-brand);
			clip-path: inherit;
		}
	}
	.handle {
		$handlesize: calc($height * 1.6);
		aspect-ratio: 1/1;
		height: $handlesize;
		border-radius: 50%;
		background-color: var(--color-brand);
		position: absolute;
		top: 50%;
		left: calc(var(--spacing) / 2 + $height / 2 + var(--position) * (100% - $height * 3));
		transform: translate(-50%, -50%);
		cursor: grab;

		.fill {
			aspect-ratio: 1/1;
			height: 60%;
			transition: height .08s ease-in-out;
			background-color: var(--color-background-secondary);
			border-radius: 50%;
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
		}

		&.dragging {
			cursor: grabbing;

			.fill {
				height: 0%;
			}
		}
	}
	.rect {
		opacity: 0;
		height: $height;
		width: calc(100% - 20px - $height);
		position: absolute;
		top: calc(var(--spacing) / 2);
		left: calc(var(--spacing) - $height / 2);
		z-index: -1000;
	}
}